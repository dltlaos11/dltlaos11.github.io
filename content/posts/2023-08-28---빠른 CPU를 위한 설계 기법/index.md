---
title: 빠른 CPU를 위한 설계 기법
date: "2023-08-28T18:40:32.169Z"
template: "post"
draft: false
slug: "/posts/빠른 CPU를 위한 설계 기법"
category: "CS"
tags:
  - "CS"
description: "빠른 CPU를 위한 설계 기법에 대해서 배웁니다."
---

- [클럭](#클럭)
  - [CPU 속도를 빠르게 하는 방법](#cpu-속도를-빠르게-하는-방법)
  - [그럼 정말 클럭 신호가 빠르게 반복되면 CPU의 성능은 좋아질까](#그럼-정말-클럭-신호가-빠르게-반복되면-cpu의-성능은-좋아질까)
  - [클럭 속도](#클럭-속도)
  - [클럭 신호를 마냥 높이면 CPU가 엄청 빨라질까](#클럭-신호를-마냥-높이면-cpu가-엄청-빨라질까)
  - [클럭 속도를 늘리는 방법 이외에는](#클럭-속도를-늘리는-방법-이외에는)
- [코어와 멀티코어](#코어와-멀티코어)
  - [코어](#코어)
  - [코어를 100개 늘리면 연산 속도도 그에 비례할까](#코어를-100개-늘리면-연산-속도도-그에-비례할까)
- [스레드와 멀티스레드](#스레드와-멀티스레드)
  - [스레드](#스레드)

## 클럭

### CPU 속도를 빠르게 하는 방법

1. 컴퓨터 부품들은 ‘클럭 신호’에 맞춰 일사불란하게 움직인다 → <Mark>클럭 신호를 빠르게 한다면
   - <Mark>클럭신호</Mark>: 컴퓨터의 모든 부품을 일사불란하게 움직일 수 있게 하는 시간 단위
2. CPU는 ‘명령어 사이클’이라는 정해진 흐름에 맞춰 명령어들을 실행한다 → <Mark>명령어 사이클 또한 빠르게 반복 될 것

### 그럼 정말 클럭 신호가 빠르게 반복되면 cpu의 성능은 좋아질까

=> 꼭 그런건 아니지만 일반적으로 Yes

### 클럭 속도

![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/dc0f7a32-f81b-4783-8de0-baf8fba14125)

- 클럭 속도: 헤르츠(Hz) 단위로 측정
- 헤르츠(Hz): 1초에 클럭이 반복되는 횟수
- 클럭이 ‘똑-딱-’하고 1초에 한 번 반복되면 <Mark>1Hz
- 클럭이 1초에 100번 반복되면 <Mark>100Hz

![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/8eff3334-daf7-4a88-81d6-cc26dddb65e7)

- 1초에 클럭이 기본적으로 25억번(2.5 \* 4109)번
- 순간적으로 최대 49억(4.9 \* 109)번 반복 → 기본, 최대가 있는 것처럼 클럭은 일정하지 않다. <Mark>선택적

### 클럭 신호를 마냥 높이면 cpu가 엄청 빨라질까

꼭 그런건 아니다 → 필요 이상으로 클럭을 높이면 <Mark>발열</Mark>이 심해짐

### 클럭 속도를 늘리는 방법 이외에는

- <Mark>코어 수</Mark>를 늘리는 방법(’듀얼 코어’, ‘멀티 코어’, …)
- <Mark>스레드 수</Mark>를 늘리는 방법(’멀티 스레드’, ..)

## 코어와 멀티코어

![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/8f712274-8871-42fd-8dc4-3c83a23e787e)

### 코어

- 현대적인 관점에서 “CPU”라는 용어에 대한 재해석 필요
- “명령어를 실행하는 부품” ??
- 전통적으로 ‘명령어를 실행하는 부품’은 원칙적으로 하나만 존재
- 그러나 오늘날 CPU에는 “명령어를 실행하는 부품”이 여러 개 존재
- “명령어를 실행하는 부품”을 <Mark>코어</Mark>라는 용어로 사용
- c.f.) "<Mark>코어</Mark>"는 명령을 실행할 수 있는 <Mark>CPU 내의 처리 장치</Mark>이고, "<Mark>프로세서</Mark>"는 <Mark>하나 이상의 코어로 구성될 수 있는 전체 CPU 칩</Mark>을 의미

![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/b972b6ed-baac-4db2-8e66-c120a2976590)

<Mark>멀티코어 프로세서</Mark>: 여러 개의 코어를 포함한 CPU

### 코어를 100개 늘리면 연산 속도도 그에 비례할까

꼭 코어 수 에 비례하여 증가하지는 않는다. 조별과제와 비유하면 된다.
여러개의 코어를 두는 설계방식은 명령어를 각각의 코어에 적절하게 분배하느냐가 중요하다.

## 스레드와 멀티스레드

간단하게는 스레드란 ‘<Mark>실행 흐름의 단위</Mark>’

![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/cc9f3e19-a283-400c-8e12-b93a4e0eb318)

### 스레드

- 하드웨어 스레드

  - 하나의 코어가 동시에 처리하는 명령어 단위
  - 멀티 스레드 프로세서, 멀티 스레드 CPU(2코어 4스레드 CPU)

  ![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/81171e90-9971-4aae-80aa-637bc67394b4)
  </br>
  ![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/0c522fd1-f30b-4294-9407-61d8c67fdc14)

  - 명령어를 실행하고 해석하는 부품이 8개 있고 각각의 부품이 2개씩의 명령어를 동시에 실행해서 처리할 수 있음 → <Mark>16개의 명령어가 동시에 처리 가능
  - c.f. ) 하이퍼스레딩: 인텔의 멀티스레드 기술
  - 멀티스레드 프로세서를 설계하는 일은 매우 복잡하지만 가장 큰 핵심은 <Mark>레지스터

    ![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/d0663fd6-3ce2-424e-8bb5-6cc1be81bca4)

    - 하나의 명령어를 실행하기 위해서 꼭 필요한 레지스터들을 편의상 ‘레지스터 세트’라고 표기
    - 레지스터 세트가 하나의 코어 내부에 여러개 존재한다면 하나의 코어가 여러개의 명령어를 동시에 처리 가능
    - 에를 들어 하나의 코어가 <Mark>PC</Mark>(메모리에서 다음으로 인출할 명령어의 주소가 저장되는 공간)를 2개들고 있다면 <Mark>다음으로 실행할 명령어의 주소를 2개 지정 가능</Mark> 혹은 <Mark>스택 포인터(스택의 꼭대기)</Mark>가 2개 있다고 가정한다면 2개의 스택의 꼭대기를 가리키고 <Mark>2개의 스택 관리 가능.
    - 이처럼 하나의 명령어를 실행하기 위해서 꼭 필요한 레지스터들을 하나의 코어가 여러개 갖고 있다면 멀티 스레드 프로세서를 설계할 수 있다.
      ![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/7ce18bfb-bb36-458d-81c5-5e901badf598)

- 소프트웨어 스레드

  - 하나의 프로그램에서 독립적으로 실행되는 단위

    ![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/7866cfe4-bf27-4b88-93f2-2e33c9472c5c)

    - 싱글스레드: 한 프로그램이 하나의 실행 흐름만 가지고 순차적으로 실행
    - 멀티스레드: 하나의 프로그램에서 동시에 2개 이상의 영역이 실행

      ![image](https://github.com/dltlaos11/CodeSolving/assets/74396128/85158dd1-ca4e-486e-bf50-9f2c4b7528b1)

      - 하나의 프로그램의 독립적으로 실행되는 단위가 여러개 만들어져서 하나의 프로그램에서 동시에 여러가지 기능을 수행 가능

    - <Mark>1코어 1스레드 CPU도 여러 소프트웨어적 스레드를 만들 수 있다, 위 사진처럼
